<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36" version="28.0.7">
  <diagram name="米家App客户端架构图" id="qhzowJNQwA2y3HI1EWHP">
    <mxGraphModel dx="1426" dy="761" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="SkOOyBR_OrGC0wOGbPdk-1" value="数据源层（Data Sources）&#xa;- Remote（API）、Local（Room/SP）等&#xa;- Retrofit / OkHttp / Room / DataStore" style="shape=rectangle;whiteSpace=wrap;rounded=1;fillColor=#DAF0F7;strokeColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="160" y="620" width="800" height="100" as="geometry" />
        </mxCell>
        <mxCell id="SkOOyBR_OrGC0wOGbPdk-2" value="&#xa;- 统一数据来源：网络、本地数据库、缓存等&#xa;- 对外隐藏数据源细节" style="shape=rectangle;whiteSpace=wrap;rounded=1;fillColor=#E0F7DA;strokeColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="160" y="470" width="800" height="100" as="geometry" />
        </mxCell>
        <mxCell id="SkOOyBR_OrGC0wOGbPdk-3" value="Use Case / Interactor 层&#xa;- 业务逻辑中间层，协调多个仓库数据&#xa;- 每个 use case 代表一个具体的业务动作" style="shape=rectangle;whiteSpace=wrap;rounded=1;fillColor=#FFF9C4;strokeColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="160" y="340" width="800" height="100" as="geometry" />
        </mxCell>
        <mxCell id="SkOOyBR_OrGC0wOGbPdk-4" value="&#xa;- 负责业务状态、数据转换、界面交互协调&#xa;- 使用 LiveData / Flow / StateFlow 等" style="shape=rectangle;whiteSpace=wrap;rounded=1;fillColor=#FBE9E7;strokeColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="160" y="210" width="800" height="100" as="geometry" />
        </mxCell>
        <mxCell id="SkOOyBR_OrGC0wOGbPdk-5" value="&#xa;- Activity / Fragment / Compose UI&#xa;- XML / Jetpack Compose / SwiftUI" style="shape=rectangle;whiteSpace=wrap;rounded=1;fillColor=#E1BEE7;strokeColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="160" y="50" width="800" height="100" as="geometry" />
        </mxCell>
        <mxCell id="SkOOyBR_OrGC0wOGbPdk-6" style="endArrow=block;strokeWidth=2;" edge="1" parent="1" source="SkOOyBR_OrGC0wOGbPdk-1" target="SkOOyBR_OrGC0wOGbPdk-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SkOOyBR_OrGC0wOGbPdk-7" style="endArrow=block;strokeWidth=2;" edge="1" parent="1" source="SkOOyBR_OrGC0wOGbPdk-2" target="SkOOyBR_OrGC0wOGbPdk-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SkOOyBR_OrGC0wOGbPdk-8" style="endArrow=block;strokeWidth=2;" edge="1" parent="1" source="SkOOyBR_OrGC0wOGbPdk-3" target="SkOOyBR_OrGC0wOGbPdk-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SkOOyBR_OrGC0wOGbPdk-9" style="endArrow=block;strokeWidth=2;" edge="1" parent="1" source="SkOOyBR_OrGC0wOGbPdk-4" target="SkOOyBR_OrGC0wOGbPdk-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SkOOyBR_OrGC0wOGbPdk-10" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;Data Sources层&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="30" y="655" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SkOOyBR_OrGC0wOGbPdk-11" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;Repository 层&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="40" y="505" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SkOOyBR_OrGC0wOGbPdk-13" value="&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot; class=&quot;text-only&quot;&gt;Tplv2Provider&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot; class=&quot;text-only text-with-abbreviation text-with-abbreviation-bottomline windows-bottomline&quot;&gt;标准化&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot; class=&quot;text-only&quot;&gt;数据解析存储&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="180" y="490" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SkOOyBR_OrGC0wOGbPdk-15" value="&lt;div style=&quot;white-space: pre;&quot;&gt;SpecSceneConfigRepository自动化配置信息仓储&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="270" y="520" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SkOOyBR_OrGC0wOGbPdk-16" value="&lt;div style=&quot;white-space: pre;&quot;&gt;SceneDataRepository场景数据列表仓储&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="280" y="540" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SkOOyBR_OrGC0wOGbPdk-17" value="TimerTplv2Provider设备定时列表仓储类" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="710" y="490" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SkOOyBR_OrGC0wOGbPdk-18" value="SpecSceneConfigOperation模板数据管理类" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="710" y="520" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SkOOyBR_OrGC0wOGbPdk-19" value="SceneManagerV2" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="730" y="540" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SkOOyBR_OrGC0wOGbPdk-20" value="EntranceDisplayDataSource，C700视觉大模型感知数据源" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="440" y="475" width="175" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SkOOyBR_OrGC0wOGbPdk-21" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;Interactor 层&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="40" y="375" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SkOOyBR_OrGC0wOGbPdk-22" value="MSDataSource批量开关数据源" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="190" y="350" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SkOOyBR_OrGC0wOGbPdk-23" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;ViewModel（视图模型层）&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="40" y="245" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SkOOyBR_OrGC0wOGbPdk-24" value="SceneAddMenuPopupWindow自定义抽屉弹窗" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="680" y="345" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SkOOyBR_OrGC0wOGbPdk-25" value="SceneTipPopupWindow自定义tips弹窗" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="680" y="370" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SkOOyBR_OrGC0wOGbPdk-26" value="各种xxxAdapter" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="180" y="220" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SkOOyBR_OrGC0wOGbPdk-27" value="SpecSceneEditViewModel编辑创建场景" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="160" y="245" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SkOOyBR_OrGC0wOGbPdk-28" value="com/xiaomi/smarthome/specscene/util各种工具类" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="670" y="390" width="310" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SkOOyBR_OrGC0wOGbPdk-29" value="TCA创建列表UI" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="190" y="60" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SkOOyBR_OrGC0wOGbPdk-30" value="TC设备列表UI" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="190" y="90" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SkOOyBR_OrGC0wOGbPdk-31" value="其他TCA创建的UI" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="190" y="110" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SkOOyBR_OrGC0wOGbPdk-32" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;UI 层（View）&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="50" y="90" width="115" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SkOOyBR_OrGC0wOGbPdk-33" value="SceneListViewModel" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="210" y="275" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SkOOyBR_OrGC0wOGbPdk-34" value="MultiSwitchViewModel批量控制" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="720" y="220" width="180" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
