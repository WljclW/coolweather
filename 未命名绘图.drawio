<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36" version="26.0.2">
  <diagram name="第 1 页" id="qcWDD4BdnjukdQCVl4ap">
    <mxGraphModel dx="1434" dy="790" grid="1" gridSize="10" guides="1" tooltips="1" connect="0" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="LGKpaFDRPndn7I6KlxH4-8" value="openCloudTriggerDialogWithParam" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="214" y="1560" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="LGKpaFDRPndn7I6KlxH4-63" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="LGKpaFDRPndn7I6KlxH4-13" target="LGKpaFDRPndn7I6KlxH4-62">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LGKpaFDRPndn7I6KlxH4-13" value="openVoiceTriggerDialogWithParam" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="214" y="1720" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="LGKpaFDRPndn7I6KlxH4-14" value="openTimerTriggerDialogWithParam" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="214" y="1630" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="LGKpaFDRPndn7I6KlxH4-16" value="filterConditionTriggerByTemplateV3" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="10" y="890" width="200" height="20" as="geometry" />
        </mxCell>
        <mxCell id="LGKpaFDRPndn7I6KlxH4-48" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="LGKpaFDRPndn7I6KlxH4-17" target="LGKpaFDRPndn7I6KlxH4-23">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="310" y="930" />
              <mxPoint x="310" y="930" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="LGKpaFDRPndn7I6KlxH4-17" value="filterActionByTemplateV3" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="240" y="890" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="LGKpaFDRPndn7I6KlxH4-18" value="filterConditionTriggerByTemplateV3FromMiPhone" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="435" y="890" width="270" height="20" as="geometry" />
        </mxCell>
        <mxCell id="LGKpaFDRPndn7I6KlxH4-19" value="filterActionByTemplateV3FromMiPhone" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="720" y="890" width="230" height="20" as="geometry" />
        </mxCell>
        <mxCell id="LGKpaFDRPndn7I6KlxH4-21" value="&lt;font style=&quot;font-size: 10px;&quot;&gt;打开模板RN端主动调用&lt;br&gt;目的：筛选出当前家庭下满足要求(std_rule_id指定)的设备&lt;br&gt;&lt;/font&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="390" y="830" width="280" height="50" as="geometry" />
        </mxCell>
        <mxCell id="LGKpaFDRPndn7I6KlxH4-22" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;labelPosition=left;verticalLabelPosition=middle;align=right;verticalAlign=middle;direction=south;" vertex="1" parent="1">
          <mxGeometry x="50" y="870" width="820" height="20" as="geometry" />
        </mxCell>
        <mxCell id="LGKpaFDRPndn7I6KlxH4-32" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="LGKpaFDRPndn7I6KlxH4-23" target="LGKpaFDRPndn7I6KlxH4-24">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LGKpaFDRPndn7I6KlxH4-33" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="LGKpaFDRPndn7I6KlxH4-23" target="LGKpaFDRPndn7I6KlxH4-24">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LGKpaFDRPndn7I6KlxH4-23" value="前置检查（检查是不是含有std_rule_id）" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="240" y="940" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="LGKpaFDRPndn7I6KlxH4-34" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="LGKpaFDRPndn7I6KlxH4-24" target="LGKpaFDRPndn7I6KlxH4-25">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LGKpaFDRPndn7I6KlxH4-24" value="HomeManager.getInstance()&lt;br&gt;.getHomeDids(curHome.getId(),true)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="50" y="1020" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="LGKpaFDRPndn7I6KlxH4-25" value="检查设备是否符合要求（did合法 并且 设备合法 并且 设备所属的房间合法）" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="50" y="1100" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="LGKpaFDRPndn7I6KlxH4-35" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="LGKpaFDRPndn7I6KlxH4-27" target="LGKpaFDRPndn7I6KlxH4-28">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LGKpaFDRPndn7I6KlxH4-27" value="&lt;span style=&quot;text-align: left;&quot;&gt;CarManager.INSTANCE.getCarRooms()&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="360" y="1020" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="LGKpaFDRPndn7I6KlxH4-37" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="LGKpaFDRPndn7I6KlxH4-28" target="LGKpaFDRPndn7I6KlxH4-30">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LGKpaFDRPndn7I6KlxH4-28" value="检查设备是否符合要求（did合法 并且 设备合法 并且 设备所属的房间合法）" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="360" y="1100" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="LGKpaFDRPndn7I6KlxH4-42" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.996;entryY=0.328;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="770.8055172413793" y="1060" as="sourcePoint" />
            <mxPoint x="584.9999999999999" y="1209.8400000000001" as="targetPoint" />
            <Array as="points">
              <mxPoint x="770.84" y="1210" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="LGKpaFDRPndn7I6KlxH4-29" value="SmartHomeDeviceManager.&lt;br&gt;getInstance().findSoloDevices();" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="660" y="1028" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="LGKpaFDRPndn7I6KlxH4-43" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="LGKpaFDRPndn7I6KlxH4-30" target="LGKpaFDRPndn7I6KlxH4-31">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="480" y="1260" />
              <mxPoint x="480" y="1260" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="LGKpaFDRPndn7I6KlxH4-30" value="tmpDevicesInHomeRoom.add(device)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="375" y="1190" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="LGKpaFDRPndn7I6KlxH4-45" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="LGKpaFDRPndn7I6KlxH4-31" target="LGKpaFDRPndn7I6KlxH4-44">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="480" y="1340" />
              <mxPoint x="480" y="1340" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="LGKpaFDRPndn7I6KlxH4-50" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="LGKpaFDRPndn7I6KlxH4-31">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="850" y="1300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LGKpaFDRPndn7I6KlxH4-31" value="SceneRouterFactory.getSceneBridge().&lt;br&gt;filterActionValueWithStdRuleId(tmpDevicesInHomeRoom,stdRuleId);" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="300" y="1280" width="390" height="40" as="geometry" />
        </mxCell>
        <mxCell id="LGKpaFDRPndn7I6KlxH4-39" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=classic;html=1;curved=0;rounded=0;endSize=8;startSize=8;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="LGKpaFDRPndn7I6KlxH4-25">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="19.720000000000027" y="1180" as="sourcePoint" />
            <mxPoint x="375" y="1207.75" as="targetPoint" />
            <Array as="points">
              <mxPoint x="170" y="1180" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="LGKpaFDRPndn7I6KlxH4-44" value="数据转换、返回结果" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="422.5" y="1380" width="115" height="20" as="geometry" />
        </mxCell>
        <mxCell id="LGKpaFDRPndn7I6KlxH4-51" value="非空判断" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="450" y="1240" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="LGKpaFDRPndn7I6KlxH4-54" value="devices，std_rule_id" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="710" y="1277" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="LGKpaFDRPndn7I6KlxH4-58" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="LGKpaFDRPndn7I6KlxH4-56" target="LGKpaFDRPndn7I6KlxH4-57">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LGKpaFDRPndn7I6KlxH4-56" value="SpecSceneConfigRepository.INSTANCE&lt;br&gt;.getActionStdDid().get(d.did)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="850" y="1280" width="300" height="40" as="geometry" />
        </mxCell>
        <mxCell id="LGKpaFDRPndn7I6KlxH4-57" value="SpecSceneHelper.Companion.findDeviceById(did)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="960" y="1160" width="300" height="40" as="geometry" />
        </mxCell>
        <mxCell id="LGKpaFDRPndn7I6KlxH4-59" value="ConcurrentHashMap&amp;lt;String, CopyOnWriteArrayList&amp;lt;String&amp;gt;&amp;gt; stdActionsDid" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1060" y="850" width="420" height="150" as="geometry" />
        </mxCell>
        <mxCell id="LGKpaFDRPndn7I6KlxH4-60" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;labelPosition=left;verticalLabelPosition=middle;align=right;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="190" y="1570" width="20" height="240" as="geometry" />
        </mxCell>
        <mxCell id="LGKpaFDRPndn7I6KlxH4-61" value=".........." style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="214" y="1800" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="LGKpaFDRPndn7I6KlxH4-67" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="LGKpaFDRPndn7I6KlxH4-62" target="LGKpaFDRPndn7I6KlxH4-66">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LGKpaFDRPndn7I6KlxH4-62" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;初始点开模板&lt;/font&gt;" style="rhombus;whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="554" y="1697" width="146" height="75" as="geometry" />
        </mxCell>
        <mxCell id="LGKpaFDRPndn7I6KlxH4-64" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="800" y="1580" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="LGKpaFDRPndn7I6KlxH4-65" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="800" y="1704.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="LGKpaFDRPndn7I6KlxH4-66" value="从参数中读取scene_id，alies；activity跳转" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="507" y="1830" width="240" height="40" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
